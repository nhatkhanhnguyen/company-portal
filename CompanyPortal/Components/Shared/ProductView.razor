<div class="row">
    <div class="col-6">
        <div class="carousel slide carousel-fade carousel-thumbs-top" id="productImages" data-bs-ride="carousel">
            <div class="carousel-inner">
                @foreach (var image in Product!.Images)
                {
                    <div class="carousel-item @(Product!.Images.IndexOf(image) == 0 ? "active" : "" )">
                        <img src="@image.Url" class="d-block w-100" alt="@image.Name">
                        <div class="carousel-caption d-md-block">
                            <p>@image.Name</p>
                        </div>
                    </div>
                }
            </div>
        </div>
        <div class="slider-thumbnails row">
            @foreach (var image in Product!.Images)
            {
                <button type="button" data-bs-target="#productImages" data-bs-slide-to="@(Product!.Images.IndexOf(image))" class="slider-thumbnail">
                    <img src="@image.Url" class="img-fluid">
                </button>
            }
        </div>
    </div>
    <div class="col-6">
        <h3 class="product-title">@Product!.Name</h3>
        <p class="product-description">@((MarkupString)Product.Description)</p>
        <h4 class="price">Giá bán: <span>@Product.Price</span></h4>
        <h4>Giảm còn: <span></span></h4>
        <h5 class="sizes">
            sizes:
            <span class="size" data-toggle="tooltip" title="small">s</span>
            <span class="size" data-toggle="tooltip" title="medium">m</span>
            <span class="size" data-toggle="tooltip" title="large">l</span>
            <span class="size" data-toggle="tooltip" title="xtra large">xl</span>
        </h5>
        @if (!IsEditing)
        {
            <div class="action">
                <button class="add-to-cart btn btn-default" type="button">add to cart</button>
                <button class="like btn btn-default" type="button"><span class="fa fa-heart"></span></button>
            </div>
        }
    </div>
</div>

<style>
    .carousel-item img {
        height: 20vh !important;
        object-fit: cover;
    }

    .slider-thumbnails {
        display: flex;
        flex-wrap: nowrap;
        white-space: nowrap;
        overflow-x: auto;
        height: 70px;
        margin-top: 10px;
        margin-right: 0 !important;
    }

        .slider-thumbnails .slider-thumbnail:first-child {
            margin-left: auto;
        }

        .slider-thumbnails .slider-thumbnail:last-child {
            margin-right: auto;
        }

    .slider-thumbnail {
        width: 100px !important;
        border: 0;
        height: 50px;
        padding-right: 5px;
        background: none;
    }

        .slider-thumbnail img {
            width: 100px !important;
            object-fit: cover;
            height: 50px;
        }

</style>
@code {
    [Parameter] public ProductViewModel? Product { get; set; }

    [Parameter] public bool IsEditing { get; set; } = false;
}
